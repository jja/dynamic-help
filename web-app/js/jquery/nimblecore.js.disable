window.nimble=window.nimble||{};var nimble=window.nimble;if(!nimble.endpoints){nimble.endpoints={admin:{list:null,search:null,remove:null,grant:null},user:{logins:null,enableAPI:null,disableAPI:null,enable:null,disable:null},role:{list:null,search:null,remove:null,grant:null},group:{list:null,search:null,remove:null,grant:null},permission:{list:null,remove:null,create:null},member:{list:null,search:null,remove:null,add:null,groupSearch:null,groupAdd:null,groupRemove:null}}}nimble.listAdministrators=function(){$(function(){$.ajax({type:"POST",url:nimble.endpoints.admin.list,success:function(a){$("#admins").empty();$("#admins").append(a)},error:function(a){nimble.growl("error",a.responseText)}})})};nimble.searchAdministrators=function(){var a="q="+$("#q").val();$.ajax({type:"POST",url:nimble.endpoints.admin.search,data:a,success:function(b){$("#searchresponse").empty();$("#searchresponse").append(b)},error:function(b){nimble.growl("error",b.responseText)}})};nimble.deleteAdministrator=function(a){var b="id="+a;$.ajax({type:"POST",url:nimble.endpoints.admin.remove,data:b,success:function(c){nimble.growl("success",c);nimble.listAdministrators()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.grantAdministrator=function(a){var b="id="+a;$.ajax({type:"POST",url:nimble.endpoints.admin.grant,data:b,success:function(c){nimble.searchAdministrators();nimble.listAdministrators();nimble.growl("success",c)},error:function(c){nimble.growl("error",c.responseText)}})};nimble.enableUser=function(b){var a="id="+b;$.ajax({type:"POST",url:nimble.endpoints.user.enable,data:a,success:function(c){$("#enableuser").hide();$("#enableduser").hide();$("#disableuser").show();$("#disableduser").show();nimble.growl("success",c)},error:function(c){nimble.growl("error",c.responseText)}})};nimble.disableUser=function(b){var a="id="+b;$.ajax({type:"POST",url:nimble.endpoints.user.disable,data:a,success:function(c){$("#disableuser").hide();$("#disableduser").hide();$("#enableuser").show();$("#enableduser").show();nimble.growl("success",c)},error:function(c){nimble.growl("error",c.responseText)}})};nimble.enableAPI=function(b){var a="id="+b;$.ajax({type:"POST",url:nimble.endpoints.user.enableAPI,data:a,success:function(c){$("#disabledapi").hide();$("#enabledapi").show();$("#disableuserapi").show();$("#enableuserapi").hide();nimble.growl("success",c)},error:function(c){nimble.growl("error",c.responseText)}})};nimble.disableAPI=function(b){var a="id="+b;$.ajax({type:"POST",url:nimble.endpoints.user.disableAPI,data:a,success:function(c){$("#disabledapi").show();$("#enabledapi").hide();$("#disableuserapi").hide();$("#enableuserapi").show();nimble.growl("success",c)},error:function(c){nimble.growl("error",c.responseText)}})};nimble.listLogins=function(a){var b="id="+a;$.ajax({type:"GET",url:nimble.endpoints.user.logins,data:b,success:function(c){$("#loginhistory").empty().append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.listPermissions=function(b){var a="id="+b;$.ajax({type:"GET",url:nimble.endpoints.permission.list,data:a,success:function(c){$("#currentpermission").empty().append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.createPermission=function(b){var a="id="+b+"&first="+$("#first_p").val()+"&second="+$("#second_p").val()+"&third="+$("#third_p").val()+"&fourth="+$("#fourth_p").val();$.ajax({type:"POST",url:nimble.endpoints.permission.create,data:a,success:function(c){$("#addpermissionserror").empty();$("#first_p").val("");$("#second_p").val("");$("#third_p").val("");$("#fourth_p").val("");nimble.listPermissions(b);nimble.growl("success",c)},error:function(c){$("#addpermissionserror").empty().append(c.responseText)}})};nimble.removePermission=function(c,a){var b="id="+c+"&permID="+a;$.ajax({type:"POST",url:nimble.endpoints.permission.remove,data:b,success:function(d){nimble.listPermissions(c);nimble.growl("success",d)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.searchRoles=function(b){var a="id="+b+"&q="+$("#qroles").val();$.ajax({type:"POST",url:nimble.endpoints.role.search,data:a,success:function(c){$("#rolesearchresponse").empty().hide();$("#rolesearchresponse").append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.listRoles=function(b){var a="id="+b;$.ajax({type:"GET",url:nimble.endpoints.role.list,data:a,success:function(c){$("#assignedroles").empty().append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.grantRole=function(c,a){var b="id="+c+"&roleID="+a;$.ajax({type:"POST",url:nimble.endpoints.role.grant,data:b,success:function(d){nimble.listRoles(c);nimble.searchRoles(c);nimble.growl("success",d)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.removeRole=function(c,a){var b="id="+c+"&roleID="+a;$.ajax({type:"POST",url:nimble.endpoints.role.remove,data:b,success:function(d){nimble.listRoles(c);nimble.growl("success",d)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.searchGroups=function(b){var a="id="+b+"&q="+$("#qgroups").val();$.ajax({type:"POST",url:nimble.endpoints.group.search,data:a,success:function(c){$("#groupsearchresponse").empty().hide();$("#groupsearchresponse").append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.listGroups=function(b){var a="id="+b;$.ajax({type:"GET",url:nimble.endpoints.group.list,data:a,success:function(c){$("#assignedgroups").empty().append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.grantGroup=function(c,a){var b="id="+c+"&groupID="+a;$.ajax({type:"POST",url:nimble.endpoints.group.grant,data:b,success:function(d){nimble.listGroups(c);nimble.searchGroups(c);nimble.growl("success",d)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.removeGroup=function(c,a){var b="id="+c+"&groupID="+a;$.ajax({type:"POST",url:nimble.endpoints.group.remove,data:b,success:function(d){nimble.listGroups(c);nimble.growl("success",d)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.searchMembers=function(b){var a="id="+b+"&q="+$("#qmembers").val();$.ajax({type:"POST",url:nimble.endpoints.member.search,data:a,success:function(c){$("#membersearchresponse").empty();$("#membersearchresponse").append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.searchGroupMembers=function(b){var a="id="+b+"&q="+$("#qmembersgroup").val();$.ajax({type:"POST",url:nimble.endpoints.member.groupSearch,data:a,success:function(c){$("#membergroupsearchresponse").empty();$("#membergroupsearchresponse").append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};nimble.addMember=function(c,a){var b="id="+c+"&userID="+a;$.ajax({type:"POST",url:nimble.endpoints.member.add,data:b,success:function(d){nimble.growl("success",d);nimble.listMembers(c);nimble.searchMembers(c)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.removeMember=function(c,a){var b="id="+c+"&userID="+a;$.ajax({type:"POST",url:nimble.endpoints.member.remove,data:b,success:function(d){nimble.growl("success",d);nimble.listMembers(c)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.addGroupMember=function(c,a){var b="id="+c+"&groupID="+a;$.ajax({type:"POST",url:nimble.endpoints.member.groupAdd,data:b,success:function(d){nimble.growl("success",d);nimble.listMembers(c);nimble.searchGroupMembers(c)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.removeGroupMember=function(c,a){var b="id="+c+"&groupID="+a;$.ajax({type:"POST",url:nimble.endpoints.member.groupRemove,data:b,success:function(d){nimble.growl("success",d);nimble.listMembers(c)},error:function(d){nimble.growl("error",d.responseText)}})};nimble.listMembers=function(b){var a="id="+b;$.ajax({type:"GET",url:nimble.endpoints.member.list,data:a,success:function(c){$("#currentmembers").empty().hide();$("#currentmembers").append(c).show()},error:function(c){nimble.growl("error",c.responseText)}})};